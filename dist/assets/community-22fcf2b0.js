import{_ as y,d as h,o as w,c as C,b as f,a as e,w as a,I as E,e as r}from"./index-c907dd13.js";import{E as u,a as U}from"./el-overlay-79274c0d.js";import{a as F,b as k,E as I}from"./el-input-74c901bc.js";import{c as v,E as P,a as T}from"./el-table-column-76e282d7.js";import{E as $}from"./el-button-f25b5441.js";import{c as B,a as z,b as N,d as D}from"./community-9200fbe4.js";import"./scroll-7c5f27d0.js";import"./debounce-8f8aa939.js";const A=h({data(){return{communitys:[],page:{total:0,current:1,size:5},dialogFormVisible:!1,dialogFormVisible1:!1,community:{address:"",charger:0,createTime:"",deleted:0,depart:0,description:"",email:"",id:0,logo:"",mobile:"",name:"",schoolId:0,status:0,teachers:"",type:0,updateTime:"",version:0,weixin:""},formLabelWidth:80}},mounted(){this.getCommunitysPage(1)},methods:{toEdit(l){console.log(l),this.dialogFormVisible=!0,this.community=v(l)},getCommunitysPage(l){B({current:l,size:5}).then(n=>{console.log(n);const p=n.data.communities;this.communitys=p,this.page=p}).catch(n=>{console.log(n)})},currentchange(l){this.getCommunitysPage(l),this.page.current=l},cancle(){this.dialogFormVisible1=!1},dele(l){z({id:l}).then(n=>{if(console.log(l),n.success)this.getCommunitysPage(this.page.current);else return console.log(n.msg),!1}).catch(n=>{}),this.dialogFormVisible1=!1},save(){const l=this.community;l.id==0?N(l).then(o=>{if(o.success)this.dialogFormVisible=!1,this.getCommunitysPage(this.page.current),u(o.msg);else return u(o.msg),!1}).catch(o=>{u("网络错误联系管理员")}):D(l).then(o=>{if(o.success)this.dialogFormVisible=!1,this.getCommunitysPage(this.page.current),u(o.msg);else return u(o.msg),!1}).catch(o=>{u("网络错误联系管理员")})}}}),L={class:"dialog-footer"};function M(l,o,n,p,R,W){const m=T,s=$,b=P,i=F,d=k,V=I,c=U;return w(),C(E,null,[f("div",null,[e(b,{data:l.communitys,style:{width:"100%"},"row-class-name":l.tableRowClassName},{default:a(()=>[e(m,{fixed:"",prop:"id",label:"id",width:"80",sortable:!0,"sort-method":l.sortById},null,8,["sort-method"]),e(m,{prop:"name",label:"团设名称",width:"60"}),e(m,{prop:"address",label:"团社地址",width:"130"}),e(m,{prop:"charger",label:"团社会长",width:"130"}),e(m,{prop:"createTime",label:"创建时间",width:"100"}),e(m,{prop:"deleted",label:"逻辑删除",width:"60"}),e(m,{prop:"depart",label:"学院编号",width:"60"}),e(m,{prop:"description",label:"团社介绍",width:"200"}),e(m,{prop:"email",label:"团社邮箱",width:"60"}),e(m,{prop:"deleted",label:"删除",width:"60"}),e(m,{prop:"logo",label:"团社logo",width:"60"}),e(m,{prop:"mobile",label:"团社电话",width:"60"}),e(m,{prop:"schoolId",label:"学校id",width:"60"}),e(m,{prop:"status",label:"状态",width:"60"}),e(m,{prop:"teachers",label:"导师",width:"60"}),e(m,{prop:"type",label:"类型",width:"60"}),e(m,{prop:"updateTime",label:"更新时间",width:"60"}),e(m,{prop:"version",label:"版本",width:"60"}),e(m,{prop:"weixin",label:"团社公众号",width:"60"}),e(m,{fixed:"right",label:"操作",width:"200"},{default:a(t=>[e(s,{type:"info",size:"small",onClick:g=>l.toEdit(t.row)},{default:a(()=>[r("更新")]),_:2},1032,["onClick"]),e(s,{type:"info",size:"small",onClick:g=>l.dele(t.row.id)},{default:a(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","row-class-name"])]),e(c,{modelValue:l.dialogFormVisible,"onUpdate:modelValue":o[14]||(o[14]=t=>l.dialogFormVisible=t),title:"用户等级编辑"},{footer:a(()=>[f("span",L,[e(s,{onClick:o[13]||(o[13]=t=>l.dialogFormVisible=!1)},{default:a(()=>[r("取消")]),_:1}),e(s,{type:"primary",onClick:l.save},{default:a(()=>[r(" 保存 ")]),_:1},8,["onClick"])])]),default:a(()=>[e(V,{model:l.community},{default:a(()=>[e(d,{label:"团设名称","label-width":140},{default:a(()=>[e(i,{modelValue:l.community.name,"onUpdate:modelValue":o[0]||(o[0]=t=>l.community.name=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(d,{label:"团社地址","label-width":140},{default:a(()=>[e(i,{modelValue:l.community.address,"onUpdate:modelValue":o[1]||(o[1]=t=>l.community.address=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(d,{label:"团社会长","label-width":140},{default:a(()=>[e(i,{modelValue:l.community.charger,"onUpdate:modelValue":o[2]||(o[2]=t=>l.community.charger=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(d,{label:"学院编号","label-width":140},{default:a(()=>[e(i,{modelValue:l.community.depart,"onUpdate:modelValue":o[3]||(o[3]=t=>l.community.depart=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(d,{label:"团社介绍","label-width":140},{default:a(()=>[e(i,{modelValue:l.community.description,"onUpdate:modelValue":o[4]||(o[4]=t=>l.community.description=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(d,{label:"团社介绍","label-width":140},{default:a(()=>[e(i,{modelValue:l.community.description,"onUpdate:modelValue":o[5]||(o[5]=t=>l.community.description=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(d,{label:"团社介绍","label-width":140},{default:a(()=>[e(i,{modelValue:l.community.description,"onUpdate:modelValue":o[6]||(o[6]=t=>l.community.description=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(d,{label:"团社邮箱","label-width":140},{default:a(()=>[e(i,{modelValue:l.community.email,"onUpdate:modelValue":o[7]||(o[7]=t=>l.community.email=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(d,{label:"团社电话","label-width":140},{default:a(()=>[e(i,{modelValue:l.community.mobile,"onUpdate:modelValue":o[8]||(o[8]=t=>l.community.mobile=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(d,{label:"学校id","label-width":140},{default:a(()=>[e(i,{modelValue:l.community.schoolId,"onUpdate:modelValue":o[9]||(o[9]=t=>l.community.schoolId=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(d,{label:"导师","label-width":140},{default:a(()=>[e(i,{modelValue:l.community.teachers,"onUpdate:modelValue":o[10]||(o[10]=t=>l.community.teachers=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(d,{label:"类型","label-width":140},{default:a(()=>[e(i,{modelValue:l.community.type,"onUpdate:modelValue":o[11]||(o[11]=t=>l.community.type=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(d,{label:"微信公众号","label-width":140},{default:a(()=>[e(i,{modelValue:l.community.weixin,"onUpdate:modelValue":o[12]||(o[12]=t=>l.community.weixin=t),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const S=y(A,[["render",M]]);export{S as default};
