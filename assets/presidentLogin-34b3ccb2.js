import{_ as g,d as _,r as F,a6 as h,o as b,c as k,b as t,a as s,w as r,I as E,a7 as v,e as p,a8 as w,a9 as V}from"./index-471bd290.js";import{E as $,a as y,b as C}from"./el-input-85a4f968.js";import{E as I}from"./el-button-46f1502a.js";import{u as L}from"./index-abc86828.js";const U=_({setup(){return{src:F("../../src/assets/logo.png")}},data(){return{n:30,userForm:{email:"",password:""},rules:{email:[{required:!0,message:"请输入正确的电子邮箱",trigger:"blur"},{type:"email",message:"电子邮箱格式错误",trigger:"blur"}],password:[{required:!0,message:"请输入正确的用户密码",trigger:"blur"},{min:8,message:"密码长度不得小于8个字符",trigger:"blur"}]}}},mounted(){},methods:{get(){this.$router.push({path:"/",params:{id:1}})},...h(v,["setToken","fillUserinfo"]),btnLogin(){const e=this,o=e.$refs.ruleFormRef;o&&o.validate(u=>{if(u)L(e.userForm).then(l=>{if(l.success){const a=l.data.userinfo;console.log(e),e.setToken(a.token),e.fillUserinfo(a),e.$router.push("/president")}else return!1}).catch(l=>{console.log(l)});else return console.log("error submit!"),!1})},resetForm(){this.$refs.ruleFormRef.resetFields()}}}),B=e=>(w("data-v-f932e0ec"),e=e(),V(),e),R={class:"login"},S={class:"login-form"},N=B(()=>t("div",{style:{"text-align":"center",margin:"40px 0px"}},[t("h1",null,"社长登录")],-1));function T(e,o,u,f,l,a){const m=y,i=C,d=I,c=$;return b(),k(E,null,[t("div",null,[t("button",{onClick:o[0]||(o[0]=(...n)=>e.get&&e.get(...n))},"返回")]),t("div",R,[t("div",S,[N,s(c,{ref:"ruleFormRef",model:e.userForm,"status-icon":"",rules:e.rules,class:"login-ruleForm"},{default:r(()=>[s(i,{prop:"email"},{default:r(()=>[s(m,{modelValue:e.userForm.email,"onUpdate:modelValue":o[1]||(o[1]=n=>e.userForm.email=n),autocomplete:"off",placeholder:"请输入你的用户邮箱","suffix-icon":"Message"},null,8,["modelValue"])]),_:1}),s(i,{prop:"password"},{default:r(()=>[s(m,{modelValue:e.userForm.password,"onUpdate:modelValue":o[2]||(o[2]=n=>e.userForm.password=n),type:"password",autocomplete:"off",placeholder:"请输入你的用户密码","suffix-icon":"Lock"},null,8,["modelValue"])]),_:1}),s(i,{class:"login-form-btns"},{default:r(()=>[s(d,{type:"primary",onClick:e.btnLogin},{default:r(()=>[p("用户登录")]),_:1},8,["onClick"]),s(d,{onClick:e.resetForm},{default:r(()=>[p("Reset")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])])])],64)}const j=g(U,[["render",T],["__scopeId","data-v-f932e0ec"]]);export{j as default};
